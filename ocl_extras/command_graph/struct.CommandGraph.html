<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `CommandGraph` struct in crate `ocl_extras`."><meta name="keywords" content="rust, rustlang, rust-lang, CommandGraph"><title>ocl_extras::command_graph::CommandGraph - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css"><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script src="../../storage.js"></script></head><body class="rustdoc struct"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><p class='location'>Struct CommandGraph</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#methods">Methods</a><div class="sidebar-links"><a href="#method.new">new</a><a href="#method.add">add</a><a href="#method.populate_requisites">populate_requisites</a><a href="#method.get_req_events">get_req_events</a><a href="#method.set_cmd_event">set_cmd_event</a><a href="#method.commands">commands</a><a href="#method.get_finish_events">get_finish_events</a></div><a class="sidebar-title" href="#synthetic-implementations">Auto Trait Implementations</a><div class="sidebar-links"><a href="#impl-Send">Send</a><a href="#impl-Sync">!Sync</a></div></div><p class='location'><a href='../index.html'>ocl_extras</a>::<wbr><a href='index.html'>command_graph</a></p><script>window.sidebarCurrent = {name: 'CommandGraph', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form js-only"><div class="search-container"><input class="search-input" name="search" autocomplete="off" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='in-band'>Struct <a href='../index.html'>ocl_extras</a>::<wbr><a href='index.html'>command_graph</a>::<wbr><a class="struct" href=''>CommandGraph</a></span><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/ocl_extras/command_graph.rs.html#136-142' title='goto source code'>[src]</a></span></h1><div class="docblock type-decl"><pre class='rust struct'>pub struct CommandGraph { /* fields omitted */ }</pre></div><div class='docblock'><p>A directional sequence dependency graph representing the temporal
requirements of each asynchronous read, write, copy, and kernel (commands)
for a particular task.</p>
<p>Obviously this is an overkill for this example but this graph is flexible
enough to schedule execution correctly and optimally with arbitrarily many
parallel tasks with arbitrary duration reads, writes and kernels.</p>
<p>Note that in this example we are using <code>buffer_id</code> a <code>usize</code> to represent
memory regions (because that's what the allocator above is using) but we
could easily use multiple part, complex identifiers/keys. For example, we
may have a program with a large number of buffers which are organized into
a complex hierarchy or some other arbitrary structure. We could swap
<code>buffer_id</code> for some value which represented that as long as the
identifier we used could uniquely identify each subsection of memory. We
could also use ranges of values and do an overlap check and have
byte-level precision.</p>
</div>
                    <h2 id='methods' class='small-section-header'>
                      Methods<a href='#methods' class='anchor'></a>
                    </h2>
                <h3 id='impl' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl <a class="struct" href="../../ocl_extras/command_graph/struct.CommandGraph.html" title="struct ocl_extras::command_graph::CommandGraph">CommandGraph</a></code><a href='#impl' class='anchor'></a></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/ocl_extras/command_graph.rs.html#144-289' title='goto source code'>[src]</a></span></td></tr></tbody></table></h3><div class='impl-items'><h4 id='method.new' class="method"><span id='new.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.new' class='fnname'>new</a>() -&gt; <a class="struct" href="../../ocl_extras/command_graph/struct.CommandGraph.html" title="struct ocl_extras::command_graph::CommandGraph">CommandGraph</a></code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/ocl_extras/command_graph.rs.html#146-154' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Returns a new, empty graph.</p>
</div><h4 id='method.add' class="method"><span id='add.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.add' class='fnname'>add</a>(&amp;mut self, command: <a class="struct" href="../../ocl_extras/command_graph/struct.Command.html" title="struct ocl_extras::command_graph::Command">Command</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/ocl_extras/command_graph.rs.html#157-162' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Adds a new command and returns the command index if successful.</p>
</div><h4 id='method.populate_requisites' class="method"><span id='populate_requisites.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.populate_requisites' class='fnname'>populate_requisites</a>(&amp;mut self)</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/ocl_extras/command_graph.rs.html#201-235' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Populates the list of requisite commands necessary for each command.</p>
<p>Requisite commands (preceding writers and following readers) for a
command are those which are causally linked and must come either
directly before or after. By determining whether or not a command
comes directly before or after another we can determine the
causal/temporal relationship between any two nodes on the graph.</p>
<p>Nodes without any preceding writers or following readers are start or
finish endpoints respectively. It's possible for a graph to have no
endpoints, in which case the graph is closed and at least partially
cyclical.</p>
</div><h4 id='method.get_req_events' class="method"><span id='get_req_events.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.get_req_events' class='fnname'>get_req_events</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;cmd_idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/core/cell/struct.Ref.html" title="struct core::cell::Ref">Ref</a>&lt;<a class="struct" href="../../ocl/standard/event/struct.EventList.html" title="struct ocl::standard::event::EventList">EventList</a>&gt;, &amp;'static <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/ocl_extras/command_graph.rs.html#238-253' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Returns the list of requisite events for a command.</p>
</div><h4 id='method.set_cmd_event' class="method"><span id='set_cmd_event.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.set_cmd_event' class='fnname'>set_cmd_event</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;cmd_idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;event: <a class="struct" href="../../ocl/standard/event/struct.Event.html" title="struct ocl::standard::event::Event">Event</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, &amp;'static <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/ocl_extras/command_graph.rs.html#256-271' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Sets the event associated with the completion of a command.</p>
</div><h4 id='method.commands' class="method"><span id='commands.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.commands' class='fnname'>commands</a>&lt;'a&gt;(&amp;'a self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;'a [</a><a class="struct" href="../../ocl_extras/command_graph/struct.Command.html" title="struct ocl_extras::command_graph::Command">Command</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a></code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/ocl_extras/command_graph.rs.html#273-275' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><h4 id='method.get_finish_events' class="method"><span id='get_finish_events.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.get_finish_events' class='fnname'>get_finish_events</a>(&amp;self, event_list: &amp;mut <a class="struct" href="../../ocl/standard/event/struct.EventList.html" title="struct ocl::standard::event::EventList">EventList</a>)</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/ocl_extras/command_graph.rs.html#277-288' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4></div>
                <h2 id='synthetic-implementations' class='small-section-header'>
                  Auto Trait Implementations<a href='#synthetic-implementations' class='anchor'></a>
                </h2>
                <div id='synthetic-implementations-list'>
            <h3 id='impl-Send' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="../../ocl_extras/command_graph/struct.CommandGraph.html" title="struct ocl_extras::command_graph::CommandGraph">CommandGraph</a></code><a href='#impl-Send' class='anchor'></a></span></td><td><span class='out-of-band'></span></td></tr></tbody></table></h3><div class='impl-items'></div><h3 id='impl-Sync' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="../../ocl_extras/command_graph/struct.CommandGraph.html" title="struct ocl_extras::command_graph::CommandGraph">CommandGraph</a></code><a href='#impl-Sync' class='anchor'></a></span></td><td><span class='out-of-band'></span></td></tr></tbody></table></h3><div class='impl-items'></div></div></section><section id="search" class="content hidden"></section><section class="footer"></section><aside id="help" class="hidden"><div><h1 class="hidden">Help</h1><div class="shortcuts"><h2>Keyboard Shortcuts</h2><dl><dt><kbd>?</kbd></dt><dd>Show this help dialog</dd><dt><kbd>S</kbd></dt><dd>Focus the search field</dd><dt><kbd>↑</kbd></dt><dd>Move up in search results</dd><dt><kbd>↓</kbd></dt><dd>Move down in search results</dd><dt><kbd>↹</kbd></dt><dd>Switch tab</dd><dt><kbd>&#9166;</kbd></dt><dd>Go to active search result</dd><dt><kbd>+</kbd></dt><dd>Expand all sections</dd><dt><kbd>-</kbd></dt><dd>Collapse all sections</dd></dl></div><div class="infos"><h2>Search Tricks</h2><p>Prefix searches with a type followed by a colon (e.g. <code>fn:</code>) to restrict the search to a given type.</p><p>Accepted types are: <code>fn</code>, <code>mod</code>, <code>struct</code>, <code>enum</code>, <code>trait</code>, <code>type</code>, <code>macro</code>, and <code>const</code>.</p><p>Search functions by type signature (e.g. <code>vec -> usize</code> or <code>* -> vec</code>)</p><p>Search multiple things at once by splitting your query with comma (e.g. <code>str,u8</code> or <code>String,struct:Vec,test</code>)</p></div></div></aside><script>window.rootPath = "../../";window.currentCrate = "ocl_extras";</script><script src="../../aliases.js"></script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>